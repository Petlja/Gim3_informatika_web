Догађаји
========

Догађаји
--------

*JavaScript* програмски код даје живот веб странама и омогућава вам да додате акције којима ћете реаговати на догађаје. JavaScript нам омогућава да дефинишемо да нека акција треба да се изврши када се нешто деси у страни или на неком елементу. Примери неких догађаја на које можемо да реагујемо и извршимо неке акције су:

- onclick који се дешава када неко кликне на HTML елемент
- onmouseover дешава се када неко пређе мишем преко елемента
- onmouseout дешава се када неко показивач миша изађе из области елемента.
- onkeydown дешава се када се притисне тастер на тастатури
- onchange дешава се када се HTML елемент промени
- onload	дешава се када се учита страна.

Да бисмо реаговали на догађаје, морамо да некако „повежемо“ HTML елементе у веб страни на којима ће се нешто десити са JavaScript функцијом која ће реаговати на догађај који се десио.
Један начин да повежемо догађаје на елементима стране са функцијама је да позовемо функцију која треба да реагује на догађај у атрибуту HTML елемента који се зове као и догађај, као на пример:

.. code-block:: javascript

    <p onclick="некаФункција1(this)">Функција ће се извршити када неко кликне на пасус</p>
    <p onmouseover="некаФункција2(this)">Функција ће се извршити када неко пређе мишем преко пасуса</p>

У овим примерима ће се позвати функција када се деси догађај и као параметар ће јој се предати објекат this. this је објекат који представља HTML елемент на коме се десио догађај и он омогућава функцији да прочита информације о HTML елементу или чак и да га промени. Једна од ових функција може да изгледа као функција у следећем примеру:

.. code-block:: javascript

    function некаФункција1(element) {
            alert(element.innerHtml);
            element.innerHtml = `Функција је реаговала на догађај`;
    } 

Ова функција има параметар који представља неки елемент <p> на који је неко кликнуо. Овај објекта је у ствари вредност објекта this који се прослеђује приликом позива функција у дефиницији HTML елемента. Овај објекат има поље innerHTML које представља садржај елемента. Функција ће прво приказати тренутни садржај елемента, а онда ће елементу на који је неко кликнуо променити садржај тако што ће у њега уписати текст „Функција је реаговала на догађај“.

Пример – тренутно време
-----------------------

Потребно је направити веб страну у којој ће се налазити једно заглавље (нпр. елемент <h1>). Када корисник пређе мишем преко тог заглавље потребно је приказати тренутно време у њему.

.. code-block:: html

    <!DOCTYPE html>
    <html>
    <body>

    <h1 onmouseover="prikaziVreme(this)">Пређи мишем да видиш колико је сати!</h1>

    <script>
    function prikaziVreme(zaglavlje) {
      zaglavlje.innerHTML = `${new Date().toLocaleString()}. Пређи мишем опет!`;
    }
    </script>
    </body>
    </html>

Пример - повећај слику
----------------------

Потребно је направити веб страну у којој ће се налазити неколико слика (тј. елемент <img>). Kада корисник да кликне на слику потребно је повећати јој димензије два пута.

.. code-block:: html

    <!DOCTYPE html>
    <html>
    <body>

    <img src="…" alt="slika ce se uvecati svaki put kada se na nu klikne" onclick="uvecaj(this)" />

    <script>
    function uvecaj(slika) {
      slika.width = slika.width * 2;
      slika.height = slika.height * 2;
    }
    </script>
    </body>
    </html>

Пример – повећај слику
----------------------

У примеру са низовима смо видели код који пролази кроз све слике на веб страни Потребно је направити веб страну у којој ће се налазити неколико слика (тј. елемент <img>). Kада корисник да кликне на слику потребно је повећати јој димензије два пута.

.. code-block:: html

    <!DOCTYPE html>
    <html>
    <head>

    <script>

    function popraviSlike() {
      slike = document.images;
      i = 0
      while ( i < slike.length ) {
          let slika = slike[i];
              if ( undefined == slike.title ) {
                 slika.title = slika.alt;
              }
          i = i + 1
      }
    }
    </script>

    </head>
    <body onclick="popraviSlike(this)">

    <img src="…" alt="Prva slika" title="Prva slika" />
    <img src="…" alt="Druga slika" />
    <img src="…" alt="Treca slika" title="Treca slika" />
    <img src="…" alt="Cetvrta slika" />

    </body>
    </html>
